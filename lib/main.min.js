"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _util=require("./tools/util.js");var _util2=_interopRequireDefault(_util);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default={util:_util2.default};"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var util={};util.reg={specode:/^[1-9][0-9]{0,5}$/,num:/^[0-9]{1,10}$/,up:/^\+?[1-9][0-9]*$/,phone:/^1[3|4|7|5|8][0-9]\d{8}$/,psw:/^[A-Za-z0-9]{6,20}$/,bank:/^\d{15,19}$/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/};util.cookie={set:function e(t,r,n){var i=new Date;if(!n){document.cookie=t+"="+escape(JSON.stringify(r))+";path=/;"}else{i.setDate(i.getDate()+n*1);document.cookie=t+"="+escape(JSON.stringify(r))+";expires="+i.toGMTString()}},get:function e(t){var r="";if(document.cookie.length>0){var n=document.cookie.indexOf(t+"=");if(n!=-1){n=n+t.length+1;var i=document.cookie.indexOf(";",n);if(i==-1)i=document.cookie.length;r=unescape(document.cookie.substring(n,i))}}return r},del:function e(t){var r=new Date;r.setDate(r.getDate()-1);var n=this.get(t);if(n!=null){document.cookie=t+"="+escape(n)+";expires="+r.toGMTString()+";path=/;"}},clear:function e(){var t=document.cookie.match(/[^ =;]+(?=\=)/g);if(t){for(var r=t.length;r--;){this.del(t[r])}}}};util.user={saveUser:function e(t){util.localstorage.put("kuser",t)},remove:function e(){util.localstorage.remove("kuser")},getUser:function e(){return util.localstorage.get("kuser",3)}};util.permiss={judgetPermiss:function e(r){var t=util.localstorage.get("menu");var n=false;function i(e){for(var t=0;t<e.length;t++){if(e[t].id===r){n=true;return n}if(e[t].children!=null&&e[t].children.length>0){i(e[t].children)}}}if(t!=null&&t.length>0){i(t)}return n}};util.localstorage={getStarage:function e(){return localStorage},put:function e(t,r){this.getStarage().removeItem(t);var n=(new Date).getTime();this.getStarage().setItem(t,JSON.stringify({data:r,time:n}))},get:function e(t,r,n){var i=this.getStarage().getItem(t);if(i==null){return null}var a=JSON.parse(i);if(r==null){r=365}if(a!=null&&a!=""){var o=(new Date).getTime()-a.time;var i=o/1e3/60/60;if(i>r){console.log("信息已过期");if(n!=null){n()}util.localstorage.remove(t);return null}else{return a.data}}else{return null}},remove:function e(t){this.getStarage().removeItem(t)},getItemCount:function e(){return this.getStarage().getLength()},key:function e(t){return this.getStarage().key(t)},clearAll:function e(){var t=util.User.getUser();this.getStarage().clear();if(t!=null){util.User.setUser(t)}}};util.log={islog:false,group:function e(t){if(this.islog){console.group(t)}},groupEnd:function e(){if(this.islog){console.groupEnd()}},dir:function e(t){if(this.islog){console.dir(t)}},trace:function e(){if(this.islog){console.trace()}},info:function e(t){if(util.log.islog){console.info(t)}},log:function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++){n[i-1]=arguments[i]}if(util.log.islog){var a;(a=console).log.apply(a,[t].concat(n))}},debug:function e(t){if(this.islog){console.debug(t)}},warn:function e(t){if(this.islog){console.warn(t)}},error:function e(t){if(this.islog){console.error(t)}}};util.animate={animate:function e(n){var i=new Date;var a=setInterval(function(){var e=new Date-i;var t=e/n.duration;if(t>1)t=1;var r=n.delta(t);n.step(r);if(t==1){clearInterval(a);n.end()}},n.delay||10)},change:function e(r,n,i,t,a){n=n||0;i=i||80;util.animate.animate({delay:20,duration:a||1e3,delta:t,step:function e(t){r.innerHTML=parseInt(n+(i-n)*t)},end:function e(){r.innerHTML=i}})}};util.time={getMonthDays:function e(t){var r=new Date;var n=r.getMonth();var i=r.getYear();i+=i<2e3?1900:0;var a=new Date(i,t,1);var o=new Date(i,t+1,1);var u=(o-a)/(1e3*60*60*24);return u},getMonthStartDate:function e(){var t=new Date;var r=t.getMonth();var n=t.getYear();n+=n<2e3?1900:0;var i=new Date(n,r,1);return util.util.formatDate(i)},getMonthEndDate:function e(){var t=new Date;var r=t.getMonth();var n=t.getYear();n+=n<2e3?1900:0;var i=new Date(n,r,this.getMonthDays(r));return util.util.formatDate(i)}};util.util={getArrayIndexByOptions:function e(t,r,n){for(var i=0;i<t.length;i++){var a=true;for(var o in n){if(t[i][n[o]]!=r[n[o]]){a=false}}if(a){return i}}return-1},getArrayObjectByValues:function e(t,r,n){var i=arguments;for(var a=0;a<t.length;a++){if(i.length>3){var o=true;for(var u=2;u<i.length;u++){if(t[a][i[u]]!=r[i[u]]){o=false}}if(o)return t[a]}else{if(t[a][n]==r[n]){return t[a]}}}return null},clearObj:function e(t){for(var r in t){t[r]=""}},cloneObj:function e(t){var r={};if(t instanceof Array){r=[]}for(var n in t){var i=t[n];r[n]=i!==null&&(typeof i==="undefined"?"undefined":_typeof(i))==="object"?util.util.cloneObj(i):i}return r},cleanObj:function e(t){for(var r in t){if(t[r]instanceof Array){t[r]=[]}else if(t[r]instanceof Number){t[r]=0}else{t[r]=""}}},cloneOne:function e(t){var r={};if(t instanceof Array){r=[]}for(var n in t){var i=t[n];r[n]=(typeof i==="undefined"?"undefined":_typeof(i))==="object"?"":i}return r},infoPrivacy:function e(t){var r=t.innerHTML;var n=t.innerHTML.length;var i=void 0,a=0;if(n>10){i=r.substring(0,n-5);a=n-5}else if(n<4){i=r.substring(1,n-1);a=n-2}else{i=r.substring(2,n-2);a=n-4}var o="";for(var u=0;u<a;u++){o+="*"}r=r.replace(i,o);t.innerHTML=r},extendObj:function e(t,r){if(t==null)return;for(var n in r){if(_typeof(r[n])==="object"){if(t[n]==null){if(r[n]instanceof Array){t[n]=[]}else{t[n]={}}}this.extendObj(t[n],r[n])}else{t[n]=r[n]}}return t},formatTime:function e(t){if(t==null||t==""){return""}else{return util.util.formatDates(parseInt(t))}},encodeParemt:function e(t){var r={};for(var n in t){r[n]=encodeURI(t[n])}return r},getParams:function e(){var t=window.location.hash;var r=null;if(t.indexOf("?")!=-1){t=t.split("?")[1];r=new Object;var n=t.substr(0);var i=n.split("&");for(var a=0;a<i.length;a++){r[i[a].split("=")[0]]=i[a].split("=")[1]}}if(r!=null)return r;else return null},formatDate:function e(t,r,n){if(t==null){return""}var i=new Date(t);n=n==null?"/":n;var a=i.getFullYear();var o=i.getMonth()+1;o=o<10?"0"+o:o;var u=i.getDate();u=u<10?"0"+u:u;var l=i.getHours();var f=i.getMinutes();l=l<10?"0"+l:l;f=f<10?"0"+f:f;if(r==null){return a+n+o+n+u}else if(r==1){return o+n+u}else if(r==2){return u+":"+l}else if(r==3){return a+n+o+n+u+" "+l+":"+f}else if(r==4){return a+n+(i.getMonth()+1)+n+u+" "+l+":"+f}},formatDates:function e(t){if(t==null||t==""){return""}var r=new Date(t);var n=r.getFullYear();var i=r.getMonth()+1;i=i<10?"0"+i:i;var a=r.getDate();a=a<10?"0"+a:a;var o=r.getHours();var u=r.getMinutes();var l=r.getSeconds();u=u<10?"0"+u:u;l=l<10?"0"+l:l;return n+"/"+i+"/"+a+" "+o+":"+u+":"+l},strToJson:function e(t){return JSON.parse(t)},jsonToStr:function e(t){return JSON.stringify(t)},ArrayUnique:function e(t){var r=[];var n={};for(var i=0;i<t.length;i++){if(!n[t[i]]){r.push(t[i]);n[t[i]]=1}}return r},removeByValue:function e(t,r){for(var n=0;n<t.length;n++){if(t[n]==r){t.splice(n,1);break}}return t},parseParam:function e(t){var r="";for(var n in t){if(t[n]!=-1){r+=n+"="+t[n]+"&"}}var r=r.substring(0,r.length-1);return r},randomString:function e(t){t=t||32;var r="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678";var n=r.length;var i="";for(var a=0;a<t;a++){i+=r.charAt(Math.floor(Math.random()*n))}return i},empty:function e(t){for(var r in t){t[r]=""}},sysnLocastore:function e(t){util.localstorage.put("activeMenu",t.activeMenu)},abbreviate:function e(t){if(t==null){return""}else if(t.length<2){return t}else{return t.substring(0,2)}}};exports.default=util;